title: åƒåœ¾åˆ†ç±»å¤§å†’é™©
variables:
  [rounds, validrounds, totalrounds, grams, totalgrams, score, details, used1, lastone, qaseq]
constants:
  remark: å¤‡æ³¨
stages:
  "1.1":
    chapter: è§„åˆ™è®²è§£
    story: |-
      > æ¬¢è¿æ¥åˆ°`@title`ğŸ¸ï¼
      > æ¸¸æˆè§„åˆ™ï¼šé€šè¿‡ @Bot å›å¤é¢˜ç›®ä¸­çš„åƒåœ¾ç±»å‹ï¼Œå®ŒæˆæŒ‘æˆ˜ã€‚æ•´ä¸ªæŒ‘æˆ˜åŒ…æ‹¬ `5` é“é¢˜ï¼Œé¢˜åº“éšæœºã€‚
      @senderï¼Œè¯·ç‚¹å‡»â€œå¼€å§‹â€ è¿›å…¥ç­”é¢˜ç¯èŠ‚å§ï½

      [å¼€å§‹](bot://replymsg?func=at&param=%e5%bc%80%e5%a7%8b)
    choices:
      - keywords: [å¼€å§‹, å‡†å¤‡, ç»§ç»­, ready, zhunbei, zb, jixu, next, go]
        description: ""
        action: [calc, calc, calc, calc, calc, calc, calc, eval, eval, gotox]
        param:
          [
            "totalrounds?5:5",
            "validrounds?1:1",
            "grams?0:0",
            "score?0:0",
            "details?'':''",
            "used1?0:0",
            "lastone?'':''",
            "qaseq=Array.from(Array({n}).keys()); qaseq.splice(0,1);",
            "qaseq.sort(function () { return 0.5 - Math.random(); });",
            "qaseq[rounds%{n}]",
          ]
  "1.2":
    chapter: äº¤å·å—
    story: |-
      > é•¿è·¯æ¼«æ¼«ï¼ŒçŠ¹å¯æœŸè®¸ï¼Œæ˜¯æ—¶å€™æ£€éªŒæˆæœå•¦
      > ä½ å·²ç»ç­”å®Œ`@totalrounds`é“å°é¢˜ï¼Œæœ¬ç¾¤çš„å°ä¼™ä¼´ä»¬ï¼Œè¾›è‹¦å•¦ğŸ’¦
      @senderï¼Œè¯·ç‚¹å‡»â€œäº¤å·â€æŸ¥çœ‹æœ¬ç¾¤åˆ†æ•°:

      [äº¤å·](bot://replymsg?func=at&param=%e4%ba%a4%e5%8d%b7)
    choices:
      - keywords: [äº¤å·, ç»§ç»­, jixu, next, go, commit, push, jiaojuan]
        description: ""
        action: goto
        param: 1.X
  "1.A":
    chapter: æ”¾æ¦œå•¦
    story: |-
      > å¤ªæ£’äº†ğŸ‰ï¼Œæ‰€æœ‰é¢˜ç›®éƒ½å›ç­”æ­£ç¡®ğŸ’¯
      > å¸Œæœ›ä½ åœ¨ç°å®ç”Ÿæ´»ä¹Ÿè¦åšå¥½åƒåœ¾åˆ†ç±»å–”ğŸ’ª

      æ»¡åˆ†ä¹‹è·¯âœï¸:
      @details

      è¯·ç‚¹å‡»â€œé‡ç½®â€æ¥é‡æ–°æŒ‘æˆ˜å§ğŸŒ

      [é‡ç½®](bot://replymsg?func=at&param=%e9%87%8d%e7%bd%ae)
    choices: 
      - keywords: []
        description: ""
        action: reset
        param: ""
  "1.B":
    chapter: æ”¾æ¦œå•¦
    story: |-
      > è¿˜ä¸é”™ğŸ˜„ï¼Œä½ çš„åˆ†æ•°æ˜¯`@score`åˆ†
      > å†æ¥å†å‰ï¼Œäº‰åšåƒåœ¾åˆ†ç±»å°èƒ½æ‰‹ï½
      > è¦ä¸è¦æŒ‘æˆ˜ä¸€æ¬¡æ»¡åˆ†å‘¢ï¼ŸğŸ’¯

      ç»“ç®—æ˜ç»†ğŸ“œ:
      @details

      è¯·ç‚¹å‡»â€œé‡ç½®â€æ¥é‡æ–°æŒ‘æˆ˜å§ğŸŒ

      [é‡ç½®](bot://replymsg?func=at&param=%e9%87%8d%e7%bd%ae)
    choices: 
      - keywords: []
        description: ""
        action: reset
        param: ""
  "1.C":
    chapter: æ”¾æ¦œå•¦
    story: |-
      > å¾ˆé—æ†¾ğŸ˜‘ï¼Œä½ çš„åˆ†æ•°æ˜¯`@score`åˆ†
      > åƒåœ¾åˆ†ç±»é å¤§å®¶ï¼Œè¿˜éœ€è¦ç»§ç»­åŠ æ²¹å“¦ğŸš®

      é”™é¢˜æœ¬å„¿ğŸ“™:
      @details

      è¯·ç‚¹å‡»â€œé‡ç½®â€æ¥é‡æ–°æŒ‘æˆ˜å§ğŸŒ

      [é‡ç½®](bot://replymsg?func=at&param=%e9%87%8d%e7%bd%ae)
    choices: 
      - keywords: []
        description: ""
        action: reset
        param: ""
{quiz}
dynamics:
  - conditions:
      chapter: "*"
      expression: validrounds > totalrounds && used1 == 0 && score >= 99
    action: [goto, incr]
    param:
      [
        "1.A",
        "used1",
      ]
  - conditions:
      chapter: "*"
      expression: validrounds > totalrounds && used1 == 0 && score > 40 && score < 99
    action: [goto, incr]
    param:
      [
        "1.B",
        "used1",
      ]
  - conditions:
      chapter: "*"
      expression: validrounds > totalrounds && used1 == 0 && score <= 40
    action: [goto, incr]
    param:
      [
        "1.C",
        "used1",
      ]
defaults:
  - conditions:
      chapter: "*"
      keywords: [reset, start, é‡ç½®, é‡æ–°å¼€å§‹, é‡æ–°]
    action: reset
    description: "é‡ç½®ç« èŠ‚"
  - conditions:
      chapter: "1.*"
      keywords: []
    action: none
    description: |-
      > æ¬¢è¿æ¥åˆ°`@title`ï¼
      > 
      > æ¸¸æˆè§„åˆ™ï¼šé€šè¿‡ @Bot å›å¤é¢˜ç›®ä¸­çš„åƒåœ¾ç±»å‹ï¼Œå®ŒæˆæŒ‘æˆ˜ã€‚æ•´ä¸ªæŒ‘æˆ˜åŒ…æ‹¬ `5` é“é¢˜ï¼Œé¢˜åº“éšæœºã€‚

      @senderï¼Œè¯·ç‚¹å‡»â€œå¼€å§‹â€è¿›å…¥ç­”é¢˜ç¯èŠ‚å§ï½

      [å¼€å§‹](bot://replymsg?func=at&param=%e5%bc%80%e5%a7%8b)
  - conditions:
      chapter: "*"
      keywords: []
    action: none
    description: |-
      > æœ¬è½®æ¸¸æˆè¿›è¡Œä¸­ï½

      @senderï¼Œè¯·ç‚¹å‡»â€œç»§ç»­ç­”é¢˜â€å®Œæˆæ¸¸æˆå§ï½

      [ç»§ç»­ç­”é¢˜](bot://replymsg?func=at&param=%20)
